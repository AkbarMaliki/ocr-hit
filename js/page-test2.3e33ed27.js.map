{"version":3,"file":"js/page-test2.3e33ed27.js","mappings":"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","sources":["webpack://new/./src/pages/test2.vue","webpack://new/src/pages/test2.vue","webpack://new/./src/pages/test2.vue?1b9d","webpack://new/./src/pages/test2.vue?aa68"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.modal),expression:\"modal\"}],staticStyle:{\"position\":\"fixed\",\"width\":\"100vw\",\"height\":\"100vh\",\"left\":\"0\",\"top\":\"0\",\"z-index\":\"1000000004\",\"background\":\"black\",\"opacity\":\"0.6\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.modal),expression:\"modal\"}],staticStyle:{\"position\":\"fixed\",\"top\":\"50%\",\"left\":\"50%\",\"transform\":\"translateX(-50%) translateY(-50%)\",\"z-index\":\"1000000005\",\"min-width\":\"50vw\"}},[_c('div',{staticClass:\"rounded-lg shadow p-3 bg-white animate__animated animate__bounceIn\"},[_c('button',{staticClass:\"btn btn-sm btn-dark float-right\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.modal=false}}},[_vm._v(\"x\")]),_c('div',{staticClass:\"p-3\"},[_c('h4',[_vm._v(\"Form Input\")]),_c('hr'),_c('form',{attrs:{\"action\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.submitForm.apply(null, arguments)}}},[_c('div',{staticClass:\"sm-form\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.vdata['field']),expression:\"vdata['field']\"}],staticClass:\"form-control p-2 rounded-lg shadow\",attrs:{\"type\":\"text\",\"id\":\"field\",\"name\":\"field\",\"placeholder\":\"field\"},domProps:{\"value\":(_vm.vdata['field'])},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.vdata, 'field', $event.target.value)}}})]),_c('hr'),_c('button',{staticClass:\"btn btn-sm btn-success\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Simpan\")])])])])]),_c('div',{staticStyle:{\"position\":\"fixed\",\"z-index\":\"10000\",\"right\":\"50px\",\"top\":\"50%\"}},[_c('div',{staticClass:\"mt-2\"},[_c('button',{staticClass:\"btn btn-sm\",class:_vm.drawMode ? 'btn-dark' : 'btn-outline-dark',on:{\"click\":_vm.toggleDrawMode}},[_c('i',{staticClass:\"fa fa-pencil-square-o\",attrs:{\"aria-hidden\":\"true\"}})])]),_c('div',{staticClass:\"mt-2\"},[_c('button',{staticClass:\"btn btn-sm\",class:_vm.eraseMode ? ' btn-danger ' : 'btn-outline-danger',on:{\"click\":_vm.toggleEraseMode}},[_c('i',{staticClass:\"fa fa-eraser\",attrs:{\"aria-hidden\":\"true\"}})])]),_c('div',{staticClass:\"mt-2\"},[_c('button',{staticClass:\"btn btn-sm btn-success\",on:{\"click\":_vm.saveBox}},[_c('i',{staticClass:\"fa fa-floppy-o\",attrs:{\"aria-hidden\":\"true\"}})])])]),_vm._m(0),_c('div',{staticClass:\"row p-4\"},_vm._l((_vm.listBoxes),function(box,index){return _c('div',{key:index,staticClass:\"col-sm-3 text-xs p-1\"},[_c('div',{staticClass:\"p-2 shadow rouded-sm\"},[_c('p',{staticClass:\"m-0 p-0 font-semibold\"},[_vm._v(\" Field: \"+_vm._s(box.field)+\" \")]),_c('p',{staticClass:\"m-0 p-0\"},[_vm._v(\" x: \"+_vm._s(box.x)+\" \")]),_c('p',{staticClass:\"m-0 p-0\"},[_vm._v(\" y: \"+_vm._s(box.y)+\" \")]),_c('p',{staticClass:\"m-0 p-0\"},[_vm._v(\" width: \"+_vm._s(box.width)+\" \")]),_c('p',{staticClass:\"m-0 p-0\"},[_vm._v(\" height:\"+_vm._s(box.height)+\" \")]),_c('hr'),_c('button',{staticClass:\"btn btn-sm btn-danger mr-2 text-xs\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.deleteRectangle(index)}}},[_vm._v(\"Delete\")])])])}),0),_c('div',{staticStyle:{\"height\":\"300px\"}})])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"height\":\"1500px\",\"width\":\"100%\",\"overflow\":\"scroll\"},attrs:{\"id\":\"containerCanvas\"}},[_c('div',[_c('canvas',{attrs:{\"id\":\"canvas\"}})])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div v-show=\"modal\"  style=\"position:fixed;width:100vw;height:100vh;left:0;top:0;z-index:1000000004;background:black;opacity:0.6\"></div>\r\n    <div v-show=\"modal\" style=\"position: fixed;top: 50%;left: 50%;transform: translateX(-50%) translateY(-50%);z-index:1000000005;min-width:50vw;\">\r\n        <div class=\"rounded-lg shadow p-3 bg-white animate__animated animate__bounceIn\">\r\n          <button type=\"button\" @click=\"modal=false\" class=\"btn btn-sm btn-dark  float-right\">x</button>\r\n            <div class=\"p-3 \">\r\n              <h4>Form Input</h4>\r\n              <hr>\r\n              <form action=\"\" @submit.prevent=\"submitForm\">\r\n                <div class=\"sm-form \">\r\n                    <input type=\"text\" id=\"field\" name=\"field\" class=\"form-control p-2 rounded-lg shadow\" placeholder=\"field\" v-model=\"vdata['field']\" >\r\n                </div>\r\n                <hr>\r\n                <button type=\"submit\" class=\"btn btn-sm btn-success\">Simpan</button>\r\n              </form>\r\n            </div>      \r\n        </div>\r\n    </div>\r\n    <div\r\n      class=\"\"\r\n      style=\"position: fixed; z-index: 10000; right: 50px; top: 50%\"\r\n    >\r\n      <div class=\"mt-2\">\r\n        <button\r\n          @click=\"toggleDrawMode\"\r\n          class=\"btn btn-sm\"\r\n          :class=\"drawMode ? 'btn-dark' : 'btn-outline-dark'\"\r\n        >\r\n          <i class=\"fa fa-pencil-square-o\" aria-hidden=\"true\"></i>\r\n        </button>\r\n      </div>\r\n      <div class=\"mt-2\">\r\n        <button\r\n          @click=\"toggleEraseMode\"\r\n          class=\"btn btn-sm\"\r\n          :class=\"eraseMode ? ' btn-danger ' : 'btn-outline-danger'\"\r\n        >\r\n          <i class=\"fa fa-eraser\" aria-hidden=\"true\"></i>\r\n        </button>\r\n      </div>\r\n      <div class=\"mt-2\">\r\n        <button @click=\"saveBox\" class=\"btn btn-sm btn-success\">\r\n          <i class=\"fa fa-floppy-o\" aria-hidden=\"true\"></i>\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <div id=\"containerCanvas\" style=\"height: 1500px; width: 100%; overflow: scroll\"\r\n   \r\n    >\r\n      <!-- <img\r\n        v-if=\"moveMode\"\r\n        :src=\"imageUrl\"\r\n        alt=\"\"\r\n      /> -->\r\n      <!-- <div v-show=\"!moveMode\"> -->\r\n      <div >\r\n        <canvas  \r\n     id=\"canvas\"></canvas>\r\n      </div>\r\n    </div>\r\n    <div class=\"row p-4\">\r\n        <div v-for=\"(box, index) in listBoxes\" :key=\"index\" class=\"col-sm-3 text-xs p-1\">\r\n            <div class=\"p-2 shadow rouded-sm\">\r\n                <p class=\"m-0 p-0 font-semibold\">\r\n                    Field: {{ box.field }}\r\n                </p>\r\n                <p class=\"m-0 p-0\">\r\n                    x: {{ box.x }}\r\n                </p>\r\n                <p class=\"m-0 p-0\">\r\n                y: {{ box.y }}\r\n                </p>\r\n                <p class=\"m-0 p-0\">\r\n                width: {{ box.width }}\r\n                </p>\r\n                <p class=\"m-0 p-0\">\r\n                height:{{ box.height }}\r\n                </p>\r\n                <hr>\r\n                <button type=\"button\" @click=\"deleteRectangle(index)\" class=\"btn btn-sm btn-danger mr-2 text-xs\">Delete</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div style=\"height:300px;\"></div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport auto from '@/plugins/autophp'\r\nlet sdb=new auto()\r\nvar canvas \r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      drawMode: false, // State untuk menggambar\r\n      eraseMode: false, // State untuk menghapus\r\n      listBoxes: [], // Array untuk menyimpan objek persegi\r\n      modal:false,\r\n      imageUrl:'',\r\n      move:false,\r\n      vdata:{},\r\n      zoomLevel:1,\r\n      item:{},\r\n    };\r\n  },\r\n  methods: {\r\n     async submitForm(){\r\n        let that=this\r\n        const docRef = firebase.doc(firebase.firestore, 'ocr-layouts', this.$route.query.id);\r\n        this.listBoxes[this.listBoxes.length-1]['field']=this.vdata.field\r\n        let boxes=this.listBoxes.map(e=>{\r\n            return{\r\n                x:e.x,\r\n                y:e.y,\r\n                width:e.width,\r\n                height:e.height,\r\n                field:e.field??''\r\n            }\r\n        })\r\n        firebase.updateDoc(docRef, {boxes:boxes})\r\n        .then(() => {\r\n          that.modal=false\r\n          that.vdata={}\r\n        })\r\n        .catch((error) => {\r\n          console.error('Error updating document:', error);\r\n        });\r\n      },\r\n    saveBox(index=-1){\r\n        let that=this;\r\n        const docRef = firebase.doc(firebase.firestore, 'ocr-layouts', this.$route.query.id);\r\n        let boxes=this.listBoxes.map(e=>{\r\n            return{\r\n                x:e.x,\r\n                y:e.y,\r\n                width:e.width,\r\n                height:e.height,\r\n                field:e.field??''\r\n            }\r\n        })\r\n        firebase.updateDoc(docRef, {boxes:boxes})\r\n        .then(() => {\r\n            if(index!=-1){\r\n              // that.listBoxes.forEach((square) => {\r\n              //     canvas.remove(square);\r\n              // });\r\n              // canvas._objects.forEach(e=>{\r\n              //   canvas.remove(e)\r\n              // })\r\n              that.listBoxes = [];\r\n              that.getData('false')\r\n            }\r\n        })\r\n        .catch((error) => {\r\n          console.error('Error updating document:', error);\r\n        });\r\n      },\r\n    toggleDrawMode() {\r\n      this.drawMode = !this.drawMode; // Toggle drawMode on/off\r\n      this.eraseMode = false; // Turn off eraseMode when drawMode is on\r\n    },\r\n    toggleEraseMode() {\r\n      this.eraseMode = !this.eraseMode; // Toggle eraseMode on/off\r\n      this.drawMode = false; // Turn off drawMode when eraseMode is on\r\n    },\r\n    deleteRectangle(index) {\r\n        const box = this.listBoxes[index];\r\n        if (box) {\r\n            canvas.remove(box);\r\n            this.listBoxes.splice(index, 1); // Hapus objek persegi dari array\r\n        }\r\n        this.saveBox()\r\n    },\r\n    async getData(render='true') {\r\n      let that = this;\r\n      const docRef = firebase.doc(\r\n        firebase.firestore,\r\n        \"ocr-layouts\",\r\n        that.$route.query.id\r\n      );\r\n      firebase\r\n        .getDoc(docRef)\r\n        .then((docSnapshot) => {\r\n          if (docSnapshot.exists()) {\r\n            let obj = docSnapshot.data();\r\n            that.item = obj;\r\n            if (obj.boxes) {\r\n              that.listBoxes = obj.boxes;\r\n            }\r\n            that.imageUrl = `https://hit-ocr.online/uploaded/` + obj.filename;\r\n            if(render=='true'){\r\n                that.renderCanvas(that.imageUrl);\r\n            }else if(render=='false'){\r\n                 let count=that.listBoxes.length\r\n                  that.listBoxes.forEach(e=>{\r\n                      that.createSquare(e.x, e.y, e.width, e.height,e.field);\r\n                  })\r\n                  that.listBoxes.splice(0,count)\r\n            }\r\n          } else {\r\n            console.log(\"Document does not exist\");\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Error getting document:\", error);\r\n        });\r\n    },\r\n    createSquare(x, y, width, height,field){\r\n        let that=this;\r\n        const square = new fabric.Rect({\r\n            left: x,\r\n            top: y,\r\n            width: width,\r\n            height: height,\r\n            fill: \"transparent\",\r\n            stroke: \"red\",\r\n            strokeWidth: 2,\r\n        });\r\n        canvas.add(square);\r\n        canvas.renderAll();\r\n        // Tambahkan objek persegi ke dalam array dengan properti x, y, width, dan height\r\n        square['x']=x\r\n        square['y']=y\r\n        square['field']=field\r\n        that.listBoxes.push(square);\r\n    },\r\n    renderCanvas(imageUrl) {\r\n      let that=this;\r\n      var containerCanvas = document.getElementById('containerCanvas')\r\n      canvas= new fabric.Canvas(\"canvas\");\r\n      var imageURL = imageUrl;\r\n      let count=that.listBoxes.length\r\n      setTimeout(() => {\r\n          that.listBoxes.forEach(e=>{\r\n            that.createSquare(e.x, e.y, e.width, e.height,e.field);\r\n          })\r\n          that.listBoxes.splice(0,count)\r\n      }, 2000);\r\n      // Mengaktifkan mode menggambar saat mouse down\r\n      canvas.on(\"mouse:down\", (event) => {\r\n        const { x, y } = event.pointer;\r\n        this.startX = x;\r\n        this.startY = y;\r\n        if(this.eraseMode) {\r\n          const target = event.target;\r\n          if (target && target.type === \"rect\") {\r\n            this.listBoxes = this.listBoxes.filter((box) => box !== target); // Hapus objek persegi dari array\r\n            canvas.remove(target)\r\n            that.saveBox(0)\r\n          }\r\n        }\r\n      });\r\n      var objs = canvas.getObjects();\r\n      var group = new fabric.Group(objs);\r\n      canvas.add(group);\r\n\r\n\r\n      canvas.on(\"object:moved\", (event) => {\r\n          that.move=true;\r\n          const target = event.target;\r\n          if(event.target._objects){\r\n            sdb.alert('Moving multiple object is not supported for save data yet !')\r\n          }else{\r\n            if (target && target.type === \"rect\") {\r\n                const index = this.listBoxes.indexOf(target);\r\n                const box = this.listBoxes[index];\r\n                if (index !== -1) {\r\n                    this.listBoxes[index].x = target.left;\r\n                    this.listBoxes[index].y = target.top;\r\n                    this.saveBox(-1)\r\n                }\r\n            }\r\n          }\r\n\r\n        });\r\n\r\n        canvas.on(\"object:modified\", (event) => {\r\n            that.move=true;\r\n            if(event.action!='drag'){\r\n              if(event.target._objects){\r\n                sdb.alert('Modified multiple object is not supported for save data yet !')\r\n              }else{\r\n                const target = event.target;\r\n                if (target && target.type === \"rect\") {\r\n                    const index = this.listBoxes.indexOf(target);\r\n                    const box = this.listBoxes[index];\r\n                    if (index !== -1) {\r\n                        if(this.listBoxes[index].scaleY!=1){\r\n                          console.log('scaleY')\r\n                          this.listBoxes[index].height = this.listBoxes[index].height * target.scaleY\r\n                        }\r\n                        if(this.listBoxes[index].scaleX!=1){\r\n                          console.log('scaleX')\r\n                          this.listBoxes[index].width = this.listBoxes[index].width* target.scaleX\r\n                        }\r\n                        that.listBoxes.forEach(e=>{\r\n                          canvas.remove(e)\r\n                        })\r\n                        this.saveBox(1)\r\n                    }\r\n                }\r\n              }\r\n            }\r\n          });\r\n\r\n      // Menggambar persegi saat mouse up dan mode menggambar aktif\r\n      canvas.on(\"mouse:up\", (event) => {\r\n        if (this.drawMode) {\r\n          const { x, y } = event.pointer;\r\n          const width = x - this.startX;\r\n          const height = y - this.startY;\r\n          let obj={x,y,width,height}\r\n          that.createSquare(this.startX, this.startY, width, height,'');\r\n          that.modal=true;\r\n        }else{\r\n            if(!that.move){\r\n              const { x, y } = event.pointer;\r\n              const width = x - this.startX;\r\n              const height = y - this.startY;\r\n              containerCanvas.scrollLeft=containerCanvas.scrollLeft+width*-1\r\n              containerCanvas.scrollTop=containerCanvas.scrollTop+height*-1\r\n            }else{\r\n              that.move=false\r\n            }\r\n        }\r\n      });\r\n\r\n     \r\n\r\n      // Memuat gambar latar belakang\r\n      fabric.Image.fromURL(imageURL, (img) => {\r\n        img.set({ selectable: false });\r\n        canvas.setBackgroundImage(img, () => {\r\n          const imageWidth = img.width;\r\n          const imageHeight = img.height;\r\n          canvas.setWidth(imageWidth);\r\n          canvas.setHeight(imageHeight);\r\n          this.canvasWidth = imageWidth;\r\n          this.canvasHeight = imageHeight;\r\n          containerCanvas.style.height=imageHeight\r\n          canvas.renderAll();\r\n        });\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.getData();\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./test2.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./test2.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./test2.vue?vue&type=template&id=44d1c91e&\"\nimport script from \"./test2.vue?vue&type=script&lang=js&\"\nexport * from \"./test2.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","directives","name","rawName","value","modal","expression","staticStyle","staticClass","attrs","on","$event","_v","preventDefault","submitForm","apply","arguments","vdata","domProps","target","composing","$set","class","drawMode","toggleDrawMode","eraseMode","toggleEraseMode","saveBox","_m","_l","listBoxes","box","index","key","_s","field","x","y","width","height","deleteRectangle","staticRenderFns","sdb","auto","canvas","data","imageUrl","move","zoomLevel","item","methods","that","docRef","firebase","doc","firestore","$route","query","id","length","boxes","map","e","updateDoc","then","catch","error","console","getData","remove","splice","getDoc","docSnapshot","exists","obj","filename","renderCanvas","count","forEach","createSquare","log","square","fabric","Rect","left","top","fill","stroke","strokeWidth","add","renderAll","push","containerCanvas","document","getElementById","Canvas","imageURL","setTimeout","event","pointer","startX","startY","type","filter","objs","getObjects","group","Group","_objects","alert","indexOf","action","scaleY","scaleX","scrollLeft","scrollTop","Image","fromURL","img","set","selectable","setBackgroundImage","imageWidth","imageHeight","setWidth","setHeight","canvasWidth","canvasHeight","style","mounted","component"],"sourceRoot":""}