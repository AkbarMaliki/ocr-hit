"use strict";(self["webpackChunknew"]=self["webpackChunknew"]||[]).push([[213],{354:function(t,a,e){e.r(a),e.d(a,{default:function(){return c}});var s=function(){var t=this,a=t._self._c;return a("div",[t._m(0),a("div",{staticClass:"row justify-content-center p-5"},[a("div",{staticClass:"col-10 p-1"},[a("div",{staticClass:"shadow p-4 rounded-sm"},[a("div",{staticClass:"text-lg font-semibold text-center",on:{click:t.getRandom}},[t._v(" Voice : "),a("span",{staticClass:"font-bold",class:t.startAgain?"text-green-500":"text-red-500"},[t._v(" "+t._s(t.startAgain?"ON":"OFF")+" ")])]),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6 text-center text-xl font-bold"},[a("div",[a("div",{staticClass:"bg-blue-400 p-5 rounded-lg shadow-lg"},[t._v(" Visitor IN : "),a("span",{staticClass:"animate__animated animate__bounceInDown"},[t._v(t._s(t.datanya.totalIn))])])]),a("div",{staticClass:"mt-4"},[a("div",{staticClass:"bg-red-400 p-5 rounded-lg shadow-lg"},[t._v(" Visitor OUT : "),a("span",{staticClass:"animate__animated animate__bounceInDown"},[t._v(t._s(t.datanya.totalOut))])])])]),t._m(1)]),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("hr"),a("p",{on:{click:t.resetCount}},[t._v("Location Table")]),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-sm table-bordered table-striped"},[t._m(2),t._l(t.location,(function(e,s,o){return a("tr",{key:o+"keys"},[a("td",{},[t._v(t._s(s))]),a("td",{staticClass:"font-bold"},[t._v(t._s(e))])])}))],2)])])])])])]),a("hr")])},o=[function(){var t=this,a=t._self._c;return a("div",{staticStyle:{position:"absolute","z-index":"-1",top:"-1000px"}},[a("audio",{attrs:{controls:"",id:"audioIn"}},[a("source",{attrs:{src:e(8515),type:"audio/mpeg"}}),t._v(" Your browser does not support the audio element. ")]),a("audio",{attrs:{controls:"",id:"audioOut"}},[a("source",{attrs:{src:e(2290),type:"audio/mpeg"}}),t._v(" Your browser does not support the audio element. ")])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"col-6 text-center text-xl font-bold"},[a("div",{attrs:{id:"chartLocationVisitor"}})])},function(){var t=this,a=t._self._c;return a("tr",[a("td",[t._v("Nama Lokasi")]),a("td",{staticClass:"font-bold"},[t._v("Jumlah")])])}],i=!1,n={data(){return{datanya:[],location:{},keys:[],in:0,out:0,startAgain:!0,wait:!0,first:0}},methods:{resetCount(){let t={totalIn:0,totalOut:0};axios.put("https://islamicapp-4deac-default-rtdb.asia-southeast1.firebasedatabase.app/visitor.json",t)},updateLocation(){let t=this,a=[{data:[]}];t.keys.forEach(((e,s)=>{a[0]["data"][s]=t.location[e]})),console.log(a),i.updateSeries(a)},getRandom(){function t(){return i.w.globals.series.map((function(){return{data:[Math.floor(20*Math.random())+1,Math.floor(20*Math.random())+1]}}))}console.log(t()),i.updateSeries(t())},getLocationVisitorChart(){let t=this;var a={series:[{data:[0,0]}],chart:{type:"bar",height:350},plotOptions:{bar:{borderRadius:4,horizontal:!0}},colors:["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B","#2b908f","#f9a3a4","#90ee7e","#f48024","#69d2e7"],dataLabels:{enabled:!1},xaxis:{categories:t.keys}};t.keys.forEach(((e,s)=>{a["series"][0]["data"][s]=t.location[e]})),i=new ApexCharts(document.querySelector("#chartLocationVisitor"),a),i.render()}},layout:"visitor",mounted(){let t=this,a=document.getElementById("audioIn"),e=document.getElementById("audioOut");const s=firebase.getDatabase(),o=firebase.ref(s,"visitor/");firebase.onValue(o,(s=>{t.wait&&setTimeout((()=>{t.startAgain=!0,t.wait=!0,console.log("Start AGAIN")}),2e4);const o=s.val();t.datanya=o,0==t.first&&(t.in=o.totalIn,t.out=o.totalOut),t.startAgain&&(t.wait=!1),t.first++,t.in!=o.totalIn&&(t.in=o.totalIn,console.log("in"),t.startAgain&&a.play(),t.startAgain=!1),t.out!=o.totalOut&&(t.out=o.totalOut,console.log("out"),t.startAgain&&e.play(),t.startAgain=!1)}));const n=firebase.ref(s,"location/");firebase.onValue(n,(a=>{const e=a.val();t.location=e,t.keys=Object.keys(e),i?t.updateLocation():t.getLocationVisitorChart()}))}},r=n,l=e(1001),d=(0,l.Z)(r,s,o,!1,null,null,null),c=d.exports},2290:function(t,a,e){t.exports=e.p+"media/tts.bdab79e2.mp3"},8515:function(t,a,e){t.exports=e.p+"media/welcome.9f3c5b0a.mp3"}}]);
//# sourceMappingURL=page-trigger.f09c9558.js.map